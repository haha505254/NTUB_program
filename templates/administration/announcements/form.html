{% extends "administration/base.html" %}

{% block admin_page_title %}{{ page_title }}{% endblock %}

{% block admin_content %}
<h1>{{ page_title }}</h1>
<p class="help-text">可設定公告的顯示期間，結束時間留白代表持續顯示。</p>

<form method="post" class="stack">
  {% csrf_token %}
  {% if form.non_field_errors %}
    <ul class="error">
      {% for error in form.non_field_errors %}
        <li>{{ error }}</li>
      {% endfor %}
    </ul>
  {% endif %}
  {% for field in form %}
    <div>
      {{ field.label_tag }}
      {{ field }}
      {% if field.help_text %}
        <small class="help-text">{{ field.help_text }}</small>
      {% endif %}
      {% if field.errors %}
        <ul class="error">
          {% for error in field.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  {% endfor %}
  <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 0.5rem;">
    <button type="submit">{% if is_edit %}儲存變更{% else %}發布公告{% endif %}</button>
    <a href="{% url 'administration:announcements' %}" role="button" class="secondary">返回列表</a>
  </div>
</form>
{% endblock %}
